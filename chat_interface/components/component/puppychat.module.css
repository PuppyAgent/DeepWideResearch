@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes slideInFromRight {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

:global(.puppychat-spin) {
  animation: spin 1s linear infinite;
}

:global(.puppychat-slide-in-right) {
  animation: slideInFromRight 300ms ease-out forwards;
}

/* Textarea placeholder font */
:global(.puppychat-textarea::placeholder) {
  font-family: inherit;
}

/* Scrollbar styles - Firefox */
:global(.puppychat-messages),
:global(.puppychat-textarea) {
  scrollbar-color: transparent transparent;
  scrollbar-width: thin;
  transition: scrollbar-color 0.3s ease;
}

:global(.puppychat-messages:hover),
:global(.puppychat-textarea:hover),
:global(.puppychat-messages:active),
:global(.puppychat-textarea:active) {
  scrollbar-color: rgba(100, 100, 100, 0.7) transparent;
}

/* Scrollbar styles - WebKit */
:global(.puppychat-messages::-webkit-scrollbar),
:global(.puppychat-textarea::-webkit-scrollbar) {
  width: 8px;
  height: 8px;
}

:global(.puppychat-messages::-webkit-scrollbar-track),
:global(.puppychat-textarea::-webkit-scrollbar-track) {
  background: transparent;
}

:global(.puppychat-messages::-webkit-scrollbar-thumb),
:global(.puppychat-textarea::-webkit-scrollbar-thumb) {
  background-color: transparent;
  border-radius: 8px;
  transition: background-color 0.3s ease;
}

/* Show scrollbar when hovering container */
:global(.puppychat-messages:hover::-webkit-scrollbar-thumb),
:global(.puppychat-textarea:hover::-webkit-scrollbar-thumb) {
  background-color: rgba(100, 100, 100, 0.5);
}

/* More visible when hovering scrollbar itself */
:global(.puppychat-messages::-webkit-scrollbar-thumb:hover),
:global(.puppychat-textarea::-webkit-scrollbar-thumb:hover) {
  background-color: rgba(120, 120, 120, 0.9);
}

/* Dark scrollbar variant for overlays/lists */
:global(.puppychat-scrollbar-dark) {
  scrollbar-color: rgba(70, 70, 70, 0.95) transparent; /* Firefox */
  scrollbar-width: thin;
}

:global(.puppychat-scrollbar-dark::-webkit-scrollbar) {
  width: 8px;
  height: 8px;
}

:global(.puppychat-scrollbar-dark::-webkit-scrollbar-track) {
  background: transparent;
}

:global(.puppychat-scrollbar-dark::-webkit-scrollbar-thumb) {
  background-color: rgba(70, 70, 70, 0.95);
  border-radius: 8px;
}

:global(.puppychat-scrollbar-dark::-webkit-scrollbar-thumb:hover) {
  background-color: rgba(90, 90, 90, 1);
}

/* Fade-at-edges styles for chat history area */
:global(.puppychat-history) {
  --fade-size: 32px;
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.1) calc(var(--fade-size) * 0.25),
    rgba(0, 0, 0, 0.4) calc(var(--fade-size) * 0.55),
    rgba(0, 0, 0, 0.75) calc(var(--fade-size) * 0.85),
    rgba(0, 0, 0, 1) var(--fade-size),
    rgba(0, 0, 0, 1) calc(100% - var(--fade-size)),
    rgba(0, 0, 0, 0.75) calc(100% - (var(--fade-size) * 0.85)),
    rgba(0, 0, 0, 0.4) calc(100% - (var(--fade-size) * 0.55)),
    rgba(0, 0, 0, 0.1) calc(100% - (var(--fade-size) * 0.25)),
    rgba(0, 0, 0, 0) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.1) calc(var(--fade-size) * 0.25),
    rgba(0, 0, 0, 0.4) calc(var(--fade-size) * 0.55),
    rgba(0, 0, 0, 0.75) calc(var(--fade-size) * 0.85),
    rgba(0, 0, 0, 1) var(--fade-size),
    rgba(0, 0, 0, 1) calc(100% - var(--fade-size)),
    rgba(0, 0, 0, 0.75) calc(100% - (var(--fade-size) * 0.85)),
    rgba(0, 0, 0, 0.4) calc(100% - (var(--fade-size) * 0.55)),
    rgba(0, 0, 0, 0.1) calc(100% - (var(--fade-size) * 0.25)),
    rgba(0, 0, 0, 0) 100%
  );
}

/* Only fade bottom when scrolled to top */
:global(.puppychat-history.fade-bottom-only) {
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0,
    rgba(0, 0, 0, 1) calc(100% - var(--fade-size)),
    rgba(0, 0, 0, 0.75) calc(100% - (var(--fade-size) * 0.85)),
    rgba(0, 0, 0, 0.4) calc(100% - (var(--fade-size) * 0.55)),
    rgba(0, 0, 0, 0.1) calc(100% - (var(--fade-size) * 0.25)),
    rgba(0, 0, 0, 0) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0,
    rgba(0, 0, 0, 1) calc(100% - var(--fade-size)),
    rgba(0, 0, 0, 0.75) calc(100% - (var(--fade-size) * 0.85)),
    rgba(0, 0, 0, 0.4) calc(100% - (var(--fade-size) * 0.55)),
    rgba(0, 0, 0, 0.1) calc(100% - (var(--fade-size) * 0.25)),
    rgba(0, 0, 0, 0) 100%
  );
}

/* Only fade top when scrolled to bottom */
:global(.puppychat-history.fade-top-only) {
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.1) calc(var(--fade-size) * 0.25),
    rgba(0, 0, 0, 0.4) calc(var(--fade-size) * 0.55),
    rgba(0, 0, 0, 0.75) calc(var(--fade-size) * 0.85),
    rgba(0, 0, 0, 1) var(--fade-size),
    rgba(0, 0, 0, 1) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0.1) calc(var(--fade-size) * 0.25),
    rgba(0, 0, 0, 0.4) calc(var(--fade-size) * 0.55),
    rgba(0, 0, 0, 0.75) calc(var(--fade-size) * 0.85),
    rgba(0, 0, 0, 1) var(--fade-size),
    rgba(0, 0, 0, 1) 100%
  );
}

/* No fade when content doesn't overflow */
:global(.puppychat-history.fade-none) {
  -webkit-mask-image: none;
  mask-image: none;
}


